<launch>
    <arg name="robot_type" default="$(env ROBOT_TYPE)" doc="Robot type [standard, hero, engineer]"/>

    <arg name="camera_type" default="$(env CAMERA_TYPE)" doc="Camera type"/>
    <arg name="camera_type_front" default="hk_camera" doc="Camera type"/>
    <arg name="camera_type_back" default="hk_camera" doc="Camera type"/>
    <arg name="camera_type_left" default="hk_camera" doc="Camera type"/>
    <arg name="camera_type_right" default="hk_camera" doc="Camera type"/>

    <arg name="camera_name" default="camera"/>
    <arg name="camera_front_name" default="camera_front"/>
    <arg name="camera_back_name" default="camera_back"/>
    <arg name="camera_left_name" default="camera_left"/>
    <arg name="camera_right_name" default="camera_right"/>

    <rosparam file="$(find armor_processor)/config/processor_config.yaml" command="load"/>

<!--    &lt;!&ndash;前相机&ndash;&gt;-->
<!--    <node pkg="nodelet" type="nodelet" name="Processor_front"-->
<!--          args="load rm_digtialimg_proc/Processor vision_nodelet_front" respawn="true">-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/weibull_coefficient.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/make_dataset.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/armor_coefficient.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/preprocess_coefficient.yaml" command="load"/>-->
<!--&lt;!&ndash;        <param name="camera_info_url" value="file:///home/dynamicx/.ros/camera_info/hk_camera.yaml"/>&ndash;&gt;-->
<!--        <remap from="/processor/result_msg" to="/processor/result_msg_front"/>-->
<!--&lt;!&ndash;        <remap from="debug_image" to="debug_image"/>&ndash;&gt;-->
<!--        <remap from="/galaxy_camera/image_raw" to="/$(arg camera_front_name)/image_raw"/>-->
<!--    </node>-->

<!--    <node pkg="rm_pose_solver" type="pose_solver_node" name="pose_solver_node_front" output="screen" respawn="true">-->
<!--        <rosparam file="$(find rm_pose_solver)/config/pose_solver_config.yaml" command="load"/>-->
<!--        <remap from="/processor/result_msg" to="/processor/result_msg_front"/>-->
<!--        <remap from="/galaxy_camera/camera_info" to="/$(arg camera_front_name)/camera_info"/>-->
<!--        <remap from="/detection" to="/detection_front"/>-->
<!--    </node>-->

<!--    <node name="armor_processor_front" pkg="armor_processor" type="armor_processor" respawn="true">-->
<!--        <remap from="/detection" to="/detection_front"/>-->
<!--        <remap from="/track" to="/track"/>-->
<!--    </node>-->

<!--    &lt;!&ndash;后相机&ndash;&gt;-->
<!--    <node pkg="nodelet" type="nodelet" name="Processor_back"-->
<!--          args="load rm_digtialimg_proc/Processor vision_nodelet_back" respawn="true">-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/weibull_coefficient.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/make_dataset.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/armor_coefficient.yaml" command="load"/>-->
<!--        <rosparam file="$(find rm_digtialimg_proc)/config/preprocess_coefficient.yaml" command="load"/>-->
<!--        <param name="rotate" type="bool" value="true"/>-->
<!--        <remap from="/processor/result_msg" to="/processor/result_msg_back"/>-->
<!--&lt;!&ndash;        <remap from="debug_image" to="debug_image"/>&ndash;&gt;-->
<!--        <remap from="/galaxy_camera/image_raw" to="/$(arg camera_back_name)/image_raw"/>-->
<!--    </node>-->

<!--    <node pkg="rm_pose_solver" type="pose_solver_node" name="pose_solver_node_back" output="screen" respawn="true">-->
<!--        <rosparam file="$(find rm_pose_solver)/config/pose_solver_config.yaml" command="load"/>-->
<!--        <remap from="/processor/result_msg" to="/processor/result_msg_back"/>-->
<!--        <remap from="/galaxy_camera/camera_info" to="/$(arg camera_back_name)/camera_info"/>-->
<!--        <remap from="/detection" to="/detection_back"/>-->
<!--    </node>-->

<!--    <node name="armor_processor_back" pkg="armor_processor" type="armor_processor" respawn="true">-->
<!--        <remap from="/detection" to="/detection_back"/>-->
<!--        <remap from="/track" to="/track_back"/>-->
<!--    </node>-->

    <!--左相机-->
    <node pkg="nodelet" type="nodelet" name="Processor_left"
          args="load rm_digtialimg_proc/Processor vision_nodelet_left" respawn="true">
        <rosparam file="$(find rm_digtialimg_proc)/config/weibull_coefficient.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/make_dataset.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/armor_coefficient.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/preprocess_coefficient.yaml" command="load"/>
        <param name="image_x_center" type="int" value="800"/>
        <param name="image_y_center" type="int" value="560"/>
        <param name="camera_coordinate" type="string" value="camera_optical_frame"/>
        <remap from="/processor/result_msg" to="/processor/result_msg_left"/>
        <!--        <remap from="debug_image" to="debug_image"/>-->
        <remap from="/galaxy_camera/image_raw" to="/$(arg camera_left_name)/image_raw"/>
    </node>

    <node pkg="rm_pose_solver" type="pose_solver_node" name="pose_solver_node_left" output="screen" respawn="true">
        <rosparam file="$(find rm_pose_solver)/config/pose_solver_config.yaml" command="load"/>
        <remap from="/processor/result_msg" to="/processor/result_msg_left"/>
        <remap from="/galaxy_camera/camera_info" to="/$(arg camera_left_name)/camera_info"/>
        <remap from="/detection" to="/detection_left"/>
    </node>

    <node name="armor_processor_left" pkg="armor_processor" type="armor_processor" respawn="true">
        <remap from="/detection" to="/detection_left"/>
        <remap from="/track" to="/track"/>
    </node>

    <!--右相机-->
    <node pkg="nodelet" type="nodelet" name="Processor_right"
          args="load rm_digtialimg_proc/Processor vision_nodelet_right" respawn="true">
        <rosparam file="$(find rm_digtialimg_proc)/config/weibull_coefficient.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/make_dataset.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/armor_coefficient.yaml" command="load"/>
        <rosparam file="$(find rm_digtialimg_proc)/config/preprocess_coefficient.yaml" command="load"/>
        <param name="rotate" type="bool" value="true"/>
        <param name="image_x_center" type="int" value="1002"/>
        <param name="image_y_center" type="int" value="969"/>
        <param name="camera_coordinate" type="string" value="camera_optical_frame_right"/>
        <remap from="/processor/result_msg" to="/processor/result_msg_right"/>
        <!--        <remap from="debug_image" to="debug_image"/>-->
        <remap from="/galaxy_camera/image_raw" to="/$(arg camera_right_name)/image_raw"/>
    </node>

    <node pkg="rm_pose_solver" type="pose_solver_node" name="pose_solver_node_right" output="screen" respawn="true">
        <rosparam file="$(find rm_pose_solver)/config/pose_solver_right_config.yaml" command="load"/>
        <remap from="/processor/result_msg" to="/processor/result_msg_right"/>
        <remap from="/galaxy_camera/camera_info" to="/$(arg camera_right_name)/camera_info"/>
        <remap from="/detection" to="/detection_right"/>
    </node>

    <node name="armor_processor_right" pkg="armor_processor" type="armor_processor" respawn="true">
        <remap from="/detection" to="/detection_right"/>
        <remap from="/track" to="/track"/>
    </node>

</launch>
